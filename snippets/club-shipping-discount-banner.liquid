{%- comment -%}
    CLUB - Renders shipping discount banner

    Usage:
    {% render 'club-shipping-discount-banner' %}
{%- endcomment -%}

{%- liquid 
    capture zone
      render 'club-zone'
    endcapture 

    case zone
      when 'GB'
        assign free_shipping_threshold = 8000
      when 'EU'
        assign free_shipping_threshold = 12000
      when 'US'
        assign free_shipping_threshold = 12000
      when 'AU'
        assign free_shipping_threshold = 16000
      when 'CA'
        assign free_shipping_threshold = 16000
      when 'ROW'
        assign free_shipping_threshold = 13000
    endcase

    assign gross_total = cart.total_price
-%}

{% comment %}| plus: cart.total_discount{% endcomment %}

<div class="club-shipping-discount-banner">
    {% if gross_total > 0 and gross_total < free_shipping_threshold %}
        <p class="dashed-banner accent-text accent-border">ðŸšš Spend <strong>another {{ free_shipping_threshold | minus: gross_total | money }}</strong> to get<br><span class="highlight">FREE shipping</span></p>
    {% elsif gross_total >= free_shipping_threshold %}
        <p class="dashed-banner">ðŸš› You get <span class="highlight-alt">FREE shipping</span>!</p>
    {% endif %}
</div>